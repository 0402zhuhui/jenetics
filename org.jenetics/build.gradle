import java.text.SimpleDateFormat
import java.util.Date

apply plugin: "java"
apply plugin: "osgi"
apply plugin: "eclipse"
apply plugin: "idea"

version = "1.1.0"

sourceCompatibility = 1.7
targetCompatibility = 1.7

jar {
	manifest {
		name = "org.jenetics"
		instruction "Export-Package",
				"org.jenetics",
				"org.jenetics.util",
				"org.jenetics.stat"
		instruction "Bundle-Vendor", "Franz Wilhelmstötter"
		instruction "Bundle-Description", "Jenetics Algorithm Library"
		instruction "Bundle-DocURL", "http://jenetics.sourceforge.net"
		
		attributes "Implementation-Title": "org.jenetics", 
					"Implementation-Version": version,
					"Implementation-URL": "http://jenetics.sourceforge.net",
					"Implementation-Vendor": "Jenetics",
					"ProjectName": "Jenetics",
					"Version": version,
					"Maintainer": "Franz Wilhelmstötter"
	}
}

javadoc {

	def now = new Date()
	def year = now.year + 1900
	def dateformat = new SimpleDateFormat("yyyy-MM-dd HH:mm")

	configure(options) {
		memberLevel = 'PROTECTED'
		version = true
		author = true
		docEncoding = "UTF-8"
		charSet = "UTF-8"
		linkSource = true
		links = [
			"http://download.oracle.com/javase/7/docs/api/",
			"http://jscience.org/api/",
			"http://javolution.org/target/site/apidocs/"
		]
		windowTitle = "Jenetics API $project.version"
		docTitle = "<h1>Jenetics API (Version $project.version)</h1>"
		bottom = "&copy; $year Franz Wilhelmst&ouml;tter  &nbsp;<i>(${dateformat.format(now)})</i>"
		stylesheetFile = file("../project/resources/javadoc/stylesheet.css")
	}
	
	def destination = destinationDir.path
	
	copy {
		from "src/main/java/org/jenetics/doc-files"
		into "${destination}/org/jenetics/doc-files"
	}
	
}

/*
		<copy todir="${javadoc.dir}/org/jenetics/doc-files" >
			<fileset dir="${source.dir}/org/jenetics/doc-files" />
		</copy>
		<copy todir="${javadoc.dir}/org/jenetics/stat/doc-files" >
			<fileset dir="${source.dir}/org/jenetics/stat/doc-files" />
		</copy>
		<copy todir="${javadoc.dir}/org/jenetics/util/doc-files" >
			<fileset dir="${source.dir}/org/jenetics/util/doc-files" />
		</copy>
*/

repositories {
	flatDir(dir: "../project/lib")
}

dependencies {
	compile "jscience:jscience:4.3.1"
	testCompile "testng:testng:6.5.1"
}



