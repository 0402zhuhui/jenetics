

task compile << {
	exec() {
		executable = "lyx"
		workingDir = "./src/main/lyx"
		args = ["-e", "pdf2", "manual.lyx"]
		ignoreExitValue = true
	}
}
/* 
	<target name="manual-compile">
		<tstamp>
			<format property="MANUAL_TIMESTAMP" pattern="yyyy/MM/dd" />
		</tstamp>
		<copy
			file="${doc.basedir}/documentation/manual.lyx"
			tofile="${doc.basedir}/documentation/__manual.lyx"
		/>
		<replace
			file="${doc.basedir}/documentation/__manual.lyx"
			token="@!identifier!@" value="${version}---${MANUAL_TIMESTAMP}"
		/>
		<replace
			file="${doc.basedir}/documentation/__manual.lyx"
			token="@!version!@" value="${version}"
		/>

		<exec executable="lyx" failifexecutionfails="false" >
			<arg value="-e"/>
			<arg value="pdf2"/>
			<arg value="${doc.basedir}/documentation/__manual.lyx"/>
		</exec>

		<delete file="${doc.basedir}/documentation/__manual.lyx" />
		<move
			file="${doc.basedir}/documentation/__manual.pdf"
			tofile="${doc.basedir}/documentation/manual.pdf"
		/>
		<copy
			file="${doc.basedir}/documentation/manual.pdf"
			tofile="${basedir}/manual-${version}.pdf"
		/>
	</target>
*/
